<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sefazgo="http://www.sefaz.go.gov.br"
	layout:decorate="~{layout/layout-master}">
<head>
	<title>List Regions</title>
	<!-- Datatables -->
    <link th:href="@{/resources/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/resources/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css}" rel="stylesheet">
</head>

<body>
	<section layout:fragment="content">
		<div class="row">
			<div class="col-md-12 col-xs-12">
				<div class="x_panel">
					<div class="x_title">
						<h2><i class="fa fa-globe pull-left"></i>List Regions</h2>
						<ul class="nav navbar-right panel_toolbox" sec:authorize="hasAnyRole('VINCULO_BASICO','PORTALSEFAZ_PERFIL_ADMIN','VISUALIZACAO_DE_FUNCIONALIDADES_DE_SISTEMAS')">
							<li>
								<a class="btn btn-default btn-xs pull-right" th:href="@{/regions/form}">
									<div class="fa fa-plus"> New</div>
								</a>
							</li>
						</ul>
						<div class="clearfix"></div>
					</div>
					<div class="x_content">
					
						<!-- Messages -->
						<sefazgo:messages/>

						<!-- Content -->
						<table id="datatable-responsive-list" class="table table-striped table-bordered dt-responsive nowrap js-sefazgo-datatable" cellspacing="0" width="100%">
							<thead>
                                <tr>
                                    <th class="table-col-id">Id</th>
                                    <th>Name</th>
                                    <th class="all table-col-buttons" sec:authorize="hasAnyRole('VINCULO_BASICO','PORTALSEFAZ_PERFIL_ADMIN','VISUALIZACAO_DE_FUNCIONALIDADES_DE_SISTEMAS')"></th>
                                </tr>
							</thead>
							<tbody>
								<tr th:each="region : ${page.content}">
									<td class="table-col-id" th:text="${region.id}"></td>
									<td th:text="${region.name}"></td>
									<td class="table-col-buttons" sec:authorize="hasAnyRole('VINCULO_BASICO','PORTALSEFAZ_PERFIL_ADMIN','VISUALIZACAO_DE_FUNCIONALIDADES_DE_SISTEMAS')">
										<div class="pull-right">
											<button type="button" class="btn btn-default btn-xs" th:onclick="|location.href='@{/regions/form/}${region.id}'|" title="Edit"><div class="fa fa-pencil"></div></button>
											<button type="button" class="btn btn-default btn-xs" title="Delete" data-toggle="modal" data-target="#modalDeleteConfirmation" th:data-record-id="${region.id}" th:data-record-name="${region.name}" th:data-action-url="@{/regions/delete}"> <div class="glyphicon glyphicon-trash"></div></button>
										</div>
									</td>
								</tr>
								
							</tbody>
						</table>
						<!-- Pagination Bar -->
						<sefazgo:pagination page="${page}"/>
					</div>
				</div>
			</div>
		</div>
		<!-- Modal (Delete Confirmation)-->
		<div th:replace="@{layout/modal/modal-delete} :: modal"></div>
	</section>

	<th:block layout:fragment="self-page-javascripts">
		<!-- Datatables -->
	    <script th:src="@{/resources/vendors/datatables.net/js/jquery.dataTables.min.js}"></script>
	    <!-- Sefazgo Datatables-->
		<script th:src="@{/resources/js/sefazgo/datatable/1.0.0/jquery.sefazgo.datatable.js}"></script>
	</th:block>

</body>
</html>